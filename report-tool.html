<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二大队航空事件规范报告系统</title>
    <!-- PWA 元标签 -->
    <meta name="theme-color" content="#1e5799">
    <meta name="application-name" content="航空事件报告">
    <!-- 苹果移动设备特定元标签 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="航空事件报告">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192x192.png">
    <!-- PWA 图标 -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512x512.png">
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0d3a6c, #1a5085);
            color: #333;
            min-height: 100vh;
            padding: 15px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }
        
        header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            text-align: center;
            position: relative;
            border: 2px solid #2e6da4;
        }
        
        .guide-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 18px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 3px 10px rgba(76, 175, 80, 0.3);
            margin-bottom: 15px;
        }
        
        .guide-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        
        .guide-btn:active {
            transform: translateY(0);
        }
        
        .logo {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, #1e5799, #207cca);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            margin: 0 auto 15px;
        }
        
        h1 {
            color: #1e5799;
            font-size: 1.6rem;
            margin: 5px 0 0;
            padding: 0 50px;
            line-height: 1.3;
        }
        
        .subtitle {
            color: #4a6fa5;
            font-size: 0.95rem;
            margin-bottom: 5px;
        }
        
        .status-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .status-item {
            background: rgba(30, 87, 153, 0.1);
            padding: 6px 15px;
            border-radius: 18px;
            font-size: 0.9rem;
            color: #1e5799;
            display: flex;
            align-items: center;
            border: 1px solid rgba(46, 109, 164, 0.2);
        }
        
        main {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-section, .report-section {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
            border: 1px solid #c5d7ed;
        }
        
        h2 {
            color: #1e5799;
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e0f0ff;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 22px;
        }
        
        .form-group {
            margin-bottom: 16px;
            display: flex;
            flex-direction: column;
        }
        
        .form-row {        
            margin-bottom: 16px;        
            display: flex;        
            flex-direction: column;        
        }
        
        .searchable-select {
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .searchable-select input {
            width: 100%;
            background: #f8fbff;
            border: 2px solid #c5d9f0;
            border-radius: 8px;
            padding: 14px 16px;
            font-size: 1.02rem;
            transition: all 0.3s;
        }
        
        .searchable-select input:focus {
            outline: none;
            border-color: #1e5799;
            box-shadow: 0 0 0 3px rgba(30, 87, 153, 0.2);
        }
        
        .searchable-select select {
            width: 100%;
        }
        
        label {
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 1.0rem;
            font-weight: 600;
            position: relative;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        label.required::after {
            content: "*";
            color: #e74c3c;
            font-weight: bold;
            margin-left: 2px;
            position: absolute;
            right: -12px;
            top: 2px;
        }
        
        select, input, textarea {
            width: 100%;
            background: #f8fbff;
            border: 2px solid #c5d9f0;
            border-radius: 8px;
            padding: 14px 16px;
            font-size: 1.02rem;
            transition: all 0.3s;
            margin-top: 2px;
        }
        
        textarea {
            min-height: 160px;
            resize: vertical;
        }
        
        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: #1e5799;
            box-shadow: 0 0 0 3px rgba(30, 87, 153, 0.2);
        }
        
        .guidance-box {
            background: #e3f2fd;
            border-left: 4px solid #1e5799;
            padding: 18px;
            border-radius: 8px;
            margin-top: 15px;
            max-height: 400px;
            overflow-y: auto;
            font-size: 0.98rem;
        }
        
        .points-title {
            font-weight: 700;
            margin-bottom: 12px;
            color: #1e5799;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.08rem;
            padding-top: 5px;
        }
        
        .points-list {
            padding-left: 22px;
            margin-bottom: 18px;
        }
        
        .points-list li {
            margin-bottom: 9px;
            color: #2c3e50;
            line-height: 1.5;
        }
        
        .explanation {
            background: #d8e9fb;
            padding: 15px;
            border-radius: 8px;
            font-size: 0.96rem;
            color: #0f3d70;
            line-height: 1.5;
            margin-top: 10px;
        }

        .form-row-row {
            display: flex;
            gap: 12px;
        }
        
        .form-row-row > div {
            flex: 1;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .btn {
            flex: 1;
            min-width: 140px;
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.08rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn:active {
            transform: translateY(3px);
        }
        
        .btn-primary {
            background: linear-gradient(to right, #1e5799, #2e6da4);
            color: white;
            box-shadow: 0 5px 15px rgba(30, 87, 153, 0.4);
        }
        
        .btn-outline {
            background: white;
            border: 2px solid #1e5799;
            color: #1e5799;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .preview-box {
            background: #f8fbff;
            border-radius: 10px;
            padding: 25px;
            color: #0d3a6c;
            white-space: pre-wrap;
            line-height: 1.7;
            height: 380px;
            overflow-y: auto;
            font-size: 1.04rem;
            border: 2px solid #d6e6f7;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-top: 5px;
        }
        
        footer {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #4a5568;
            margin-top: 20px;
            border: 1px solid #e2e9f2;
        }
        
        .hidden {
            display: none;
        }
        
        .toast {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(46, 109, 164, 0.95);
            color: white;
            padding: 14px 26px;
            border-radius: 30px;
            z-index: 1000;
            display: flex;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            animation: fadeInOut 2s ease;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            10% { opacity: 1; transform: translateX(-50%) translateY(0); }
            90% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
        }
        
        #toast.hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .form-section, .report-section {
                padding: 18px;
            }
            
            .btn {
                flex: 100%;
            }
            
            header {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.4rem;
                padding: 0 40px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">✈</div>
            <h1>二大队航空事件规范报告系统</h1>
            <p class="subtitle">离线可用 · 即填即报 · 信息规范</p>
            <button class="guide-btn" onclick="window.location.href='report-guide.html'">📚 航空事件报告规范说明</button>
            <div class="status-bar">
                <div class="status-item">完全离线可用</div>
                <div class="status-item">事件类型分类</div>
                <div class="status-item">一键生成报告</div>
            </div>
        </header>
        
        <main>
            <div class="form-section" id="form-container">
                <h2>📝 事件信息填写</h2>
                
                <div class="form-grid">
                    <div>
                        <div class="form-row">
                            <label class="required">紧急程度</label>
                            <select id="urgency">
                                <option value="">请选择紧急程度</option>
                                <option value="紧急">紧急</option>
                                <option value="非紧急" selected>非紧急</option>
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <label class="required">事发时间</label>
                            <input type="datetime-local" id="eventTime">
                        </div>
                        
                        <div class="form-row">
                            <label class="required">航班号</label>
                            <input type="text" id="flightNumber" placeholder="如：3U1234">
                        </div>
                        
                        <div class="form-row">
                            <label class="required">机型</label>
                            <select id="aircraftModel">
                                <option value="">请选择机型</option>
                                <option value="A319-133" selected>A319-133</option>
                                <option value="A320-214">A320-214</option>
                                <option value="A320-232">A320-232</option>
                                <option value="A320-271">A320-271</option>
                                <option value="A321-231">A321-231</option>
                                <option value="A321-211">A321-211</option>
                                <option value="A321-271">A321-271</option>
                                <option value="其他">其他</option>
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <label class="required">机号</label>
                            <input type="text" id="aircraftReg" placeholder="如：B-1234">
                        </div>
                        
                        <div class="form-row-row">
                            <div>
                                <label class="required">起飞地</label>
                                <input type="text" id="departure" placeholder="机场代码">
                            </div>
                            <div>
                                <label class="required">降落地</label>
                                <input type="text" id="arrival" placeholder="机场代码">
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="form-row">
                            <label class="required">左座</label>
                            <input type="text" id="leftseat" placeholder="姓名/角色">
                        </div>
                        
                        <div class="form-row">
                            <label class="required">右座</label>
                            <input type="text" id="rightseat" placeholder="姓名/角色">
                        </div>
                        
                        <div class="form-row">
                            <label>第三成员</label>
                            <input type="text" id="third" placeholder="姓名">
                        </div>
                        
                        <div class="form-row">
                            <label>第四成员</label>
                            <input type="text" id="fourth" placeholder="姓名">
                        </div>
                        
                        <div class="form-row">
                            <label class="required">责任机长</label>
                            <input type="text" id="pic" placeholder="姓名">
                        </div>
                        
                        <div class="form-row">
                            <label class="required">事件类型</label>
                            <div class="searchable-select">
                                <input type="text" id="eventTypeSearch" placeholder="搜索事件类型..." oninput="filterEventTypes()">
                                <select id="eventType" onchange="showEventGuidance()">
                                    <option value="">-- 请选择事件类型 --</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <label class="required">汇报值班干部</label>
                            <select id="leader">
                                <option value="">请选择</option>
                                <option value="是">是</option>
                                <option value="否">否</option>
                                <option value="稍后汇报" selected>稍后汇报</option>
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <label class="required">填报SQMS</label>
                            <select id="sqms">
                                <option value="">请选择</option>
                                <option value="是">是</option>
                                <option value="否">否</option>
                                <option value="稍后填报" selected>稍后填报</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <label class="required">事件描述</label>
                    <textarea id="eventDetails" placeholder="请根据事件类型要点，详细描述事件经过、处置措施和相关细节..."></textarea>
                </div>
                
                <div class="form-row" id="guidanceSection">
                    <div class="guidance-box" id="eventGuidance">
                        <p style="text-align: center; color: #666;">请选择事件类型查看填写要点</p>
                    </div>
                </div>
                
                <div class="buttons">
                    <button class="btn btn-primary" onclick="generateReport()">
                        📄 生成事件报告
                    </button>
                    <button class="btn btn-outline" onclick="clearForm()">
                        🧹 清空表单
                    </button>
                </div>
            </div>
            
            <div class="report-section hidden" id="report-container">
                <h2>📄 事件报告预览</h2>
                <div class="preview-box" id="reportOutput">
                    <!-- 生成的报告将显示在这里 -->
                </div>
                <div class="buttons">
                    <button class="btn btn-primary" onclick="copyToClipboard()">
                        📋 复制报告内容
                    </button>
                    <button class="btn btn-outline" onclick="backToForm()">
                        ↩️ 返回修改
                    </button>
                </div>
            </div>
        </main>
        
        <footer>
            <p><strong>二大队航空事件规范报告系统 - 离线手机版</strong></p>
            <p>无需联网使用 | 数据仅存储于设备本地 | 版本 1.3.0</p>
            <p>完整事件类型库 | 52种规范化场景</p>
        </footer>
    </div>

    <div id="toast" class="toast hidden"></div>

    <script>
        // 完整事件类型数据库（65种标准事件类型）
        const eventTypes = [
            {
                id: "others",
                name: " 其他",
                points: [
                    "如确无相关选项，该部分填“其他”"
                ],
                explanation: ""
            },
            {
                id: "acas",
                name: "ACAS（TCAS）告警",
                points: [
                    "1.天气情况（选填）",
                    "2.飞行阶段（必填）",
                    "3.告警触发前/期间/之后飞机的飞行动态（选填）",
                    "4.告警类型和持续时间（必填）",
                    "5.告警前空管指令（如涉及）（必填）",
                    "6.机组处置情况（必填）",
                    "7.空管处置情况（选填）",
                    "8.飞行最高/最低高度（必填）",
                    "9.间隔情况（选填）",
                    "10.后续运行情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，飞行阶段，告警触发前/期间/之后飞机的飞行动态，告警类型和持续时间，告警前空管指令，机组处置情况，空管工作情况，飞行最高/最低高度，间隔情况，后续运行情况。",
                ],
                explanation: ""
            },
            {
                id: "near_separation",
                name: "临近管制间隔",
                points: [
                    "1.天气情况（选填）",
                    "2.飞行阶段（必填）",
                    "3.告警触发前/期间/之后飞机的飞行动态（高度、升降率、航向、运动趋势等）（必填）",
                    "4.冲突发生背景及解脱过程（必填）",
                    "5.机载相关设备的工作情况（必填）",
                    "6.机组处置情况（必填）",
                    "7.空管指令情况（选填）",
                    "8.事件发生的影响因素（选填）",
                    "9.后续运行情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，飞行阶段，飞行动态，冲突发生背景及解脱过程，机载相关设备的工作情况，机组处置情况，空管指令情况，事件发生的影响因素，后续运行情况。"
                ],
                explanation: "\"临近管制间隔\"是指空中航空器之间的纵向间隔、侧向间隔、垂直间隔接近但不小于规定间隔的情况。"
            },
            {
                id: "less_separation",
                name: "小于间隔",
                points: [
                    "1.天气情况（选填）",
                    "2.飞行阶段（必填）",
                    "3.飞行动态（高度、升降率、航向、运动趋势等）（必填）",
                    "4.冲突发生背景及解脱过程（必填）",
                    "5.机载相关设备的工作情况（必填）",
                    "6.机组处置情况（必填）",
                    "7.空管指令情况（选填）",
                    "8.事件发生的影响因素（选填）",
                    "9.危险指数（选填）",
                    "10.测算危险接近间隔数据依据（选填）",
                    "11.后续运行情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，飞行阶段，飞行动态，冲突发生背景及解脱过程，机载相关设备的工作情况，空管自动化告警情况，机组处置情况，空管工作情况，事件发生的影响因素，危险指数，测算危险接近间隔数据的依据，后续运行情况。"
                ],
                explanation: "\"小于间隔\"是指空中航空器之间的纵向间隔、侧向间隔、垂直间隔同时小于规定间隔的情况。"
            },
            {
                id: "mid_air_collision",
                name: "空中相撞",
                points: [
                    "1.天气情况（选填）",
                    "2.飞行阶段（必填）",
                    "3.飞行动态（必填）",
                    "4.机组处置情况（必填）",
                    "5.空管工作及应急处置情况（选填）",
                    "6.事件发生的影响因素（必填）",
                    "7.机上旅客、机组人员数量（必填）",
                    "8.搜救情况（选填）",
                    "9.事件导致的后果（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，飞行阶段，飞行动态，机组处置情况，空管工作及应急处置情况，事件发生的影响因素，机上旅客、机组人员数量，搜救情况，事件导致的后果。"
                ],
                explanation: "空中相撞是指两架或多架航空器在空中发生碰撞的事件。"
            },
            {
                id: "cfit",
                name: "可控飞行撞地/障碍物/触发虚假地形警告",
                points: [
                    "1.天气情况（必填）",
                    "2.飞行阶段（必填）",
                    "3.飞行高度（必填）",
                    "4.告警情况（必填）",
                    "5.周围环境（必填）",
                    "6.自动驾驶仪自动油门工作情况（必填）",
                    "7.空管工作情况（选填）",
                    "8.飞机及地面障碍物损伤情况（选填）",
                    "9.后续运行情况（必填）",
                    "10.故障保留及放行依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况,飞行阶段，飞行高度，告警情况，周围环境，自动驾驶仪和自动油门工作情况，空管工作情况，损伤情况，搜救情况，后续运行情况。"
                ],
                explanation: "\"可控飞行撞地\"（CFIT）是指航空器可由飞行员正常控制，但因为一些失误而撞上地面、障碍物（树、电线、电线杆、电缆、天线杆等）或水面坠毁，包含触发地形警告的情况。航空器在飞行中失控而撞地的情况应当归类为\"失控\"。"
            },
            {
                id: "low_fuel",
                name: "低于最低油量",
                points: [
                    "1.天气情况（必填）",
                    "2.是否申请优先处置（必填）",
                    "3.机组处置情况（必填）",
                    "4.可选备降场情况（选填）",
                    "5.实际着陆机场（必填）",
                    "6.宣布最低油量/燃油紧急状况的原因（必填）",
                    "7.宣布最低油量/燃油紧急状况时的油量（必填）",
                    "8.空管工作情况（选填）",
                    "9.燃油计划与加油情况（/）",
                    "10.落地剩余油量（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，是否申请优先处置，机组处置情况，可选备降场情况，实际着陆机场，宣布最低油量/燃油紧急状况的原因，宣布最低油量/燃油紧急状况时的油量，空管工作情况，燃油计划与加油情况，落地剩余油量。"
                ],
                explanation: "\"低于最低油量\"包含需要宣布\"最低油量\"和\"燃油紧急状况\"的情况。"
            },
            {
                id: "fuel_imbalance",
                name: "燃油不平衡",
                points: [
                    "1.不平衡警告发生时高度（必填）",
                    "2.警告持续时间（必填）",
                    "3.左右油箱油量差值（必填）",
                    "4.左右油箱油量（必填）",
                    "5.故障情况（必填）",
                    "6.机组处置情况（必填）",
                    "7.故障保留及放行依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，飞行阶段，不平衡警告发生时高度，出现警告持续时间，左右油箱油量差值，左右油箱油量，故障情况，机组处置情况。"
                ],
                explanation: "飞行中两侧机翼油箱实际燃油差值大于该机型手册中对应阶段允许的燃油不平衡限制值，或需要机组使用非正常程序处理燃油的情况。因燃油系统故障造成的显示错误情况除外"
            },
            {
                id: "loss_of_control",
                name: "失控/失速",
                points: [
                    "1.触发失速警告时飞行阶段（必填）",
                    "2.触发警告的高度（必填）",
                    "3.失速/失控原因（必填）",
                    "4.警告持续时间（必填）",
                    "5.最大迎角（必填）",
                    "6.机组处置情况（必填）",
                    "7.故障保留及放行依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，飞行阶段，触发警告的高度，失速/失控原因，警告持续时间，最大迎角。机组处置情况。"
                ],
                explanation: "飞行中，航空器失去控制；进入紧急盘旋、飘摆、失速状态（特定训练科目除外）；出现失速警告、抖杆或自动保护。"
            },
            {
                id: "control_difficulty",
                name: "操纵困难",
                points: [
                    "1.飞行高度（必填）",
                    "2.操作过程（必填）",
                    "3.操纵困难的表现（必填）",
                    "4.机组处置情况（必填）",
                    "5.后续机务维修处理情况（/）",
                    "6.记录本前三个航段记录是否有相关报告和放行依据（/）",
                    "7.故障保留及放行依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，飞行高度，操作过程，操纵困难的表现，机组处置情况。落地后机务维修处理情况，记录本前三个航段记录是否有相关报告和放行依据，故障保留及放行依据。"
                ],
                explanation: "\"操纵困难\"是指导致航空器操纵困难的系统故障、部件脱落或卡阻、天气现象、飞行超出批准的飞行包线等。"
            },
            {
                id: "overspeed",
                name: "超速",
                points: [
                    "1.天气情况（选填）",
                    "2.超速类型（必填）",
                    "3.速度限制（必填）",
                    "4.最大速度（必填）",
                    "5.警告持续时间（必填）",
                    "6.机组处置情况（必填）",
                    "7.后续影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，在XX高度， 触发超速类型超速警告，速度限制，最大速度，警告持续时间，机组处置情况，后续影响。"
                ],
                explanation: "超过本机型的速度限制值，如超过襟/缝翼限制速度、起落架收放超过限制速度、超轮速等。"
            },
            {
                id: "lost_direction",
                name: "迷航/偏航",
                points: [
                    "1.天气情况（选填）",
                    "2.偏离时刻（必填）",
                    "3.飞行高度（必填）",
                    "4.计划/指令航线（必填）",
                    "5.迷航/偏航原因（必填）",
                    "6.迷失/偏离的路线（必填）",
                    "7.偏离的最大距离（必填）",
                    "8.是否与其他航空器发生冲突（选填）",
                    "9.机组处置情况（必填）",
                    "10.空管工作情况（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，偏离时刻飞行高度，计划/指令航线，迷航/偏航原因，实际迷失/偏离的路线，偏离的最大距离，是否与其他航空器发生冲突，机组处置情况，空管工作情况。"
                ],
                explanation: "包含偏离指定航线（迹）或航路中心线超过规定值的情况。以发现偏离后管制与机组之间建立联系时的最大偏离距离为准。"
            },
            {
                id: "below_safety_altitude",
                name: "低于/未保持安全高度",
                points: [
                    "1.天气情况（必填）",
                    "2.实际高度（必填）",
                    "3.近地警告原因（必填）",
                    "4.近地警告类型（必填）",
                    "5.最低安全高度（必填）",
                    "6.机组处置情况（必填）",
                    "7.空管工作情况（选填）",
                    "8.对其他航空器的影响（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，实际高度，近地警告原因，近地警告类型,最低安全高度，机组处置情况，空管工作情况，对其他航空器的影响。"
                ],
                explanation: "包含航空器低于安全高度和因天气或系统故障等原因不能保持安全高度的情况。低于安全高度中触发地形警告的事件，归类为\"地形警告\"。"
            },
            {
                id: "deviation_attitude_altitude",
                name: "偏离姿态/高度",
                points: [
                    "1.天气情况（选填）",
                    "2.事件发生高度（必填）",
                    "3.偏离的原因（必填）",
                    "4.异常姿态/高度数据（必填）",
                    "5.姿态或高度偏离持续时间（必填）",
                    "6.对其他航空器的影响（选填）",
                    "7.机组处置情况（必填）",
                    "8.空管工作情况（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，天气情况，事件发生高度，偏离的原因发生偏离姿态/高度,异常姿态/高度数据，姿态或高度偏离持续时间，对其他航空器的影响，机组处置情况，空管工作情况。"
                ],
                explanation: "偏离姿态是指航空器俯仰角超过+25°或-10°、坡度超过45°或触发大坡度语音警告；偏离高度是指航空器偏离指定的高度60米以上的情况。"
            },
            {
                id: "bird_strike",
                name: "鸟击",
                points: [
                    "1.鸟击时间（必填）",
                    "2.鸟击高度和航空器速度（必填）",
                    "3.使用的跑道（选填）",
                    "4.鸟击发生时的飞行阶段（必填）",
                    "5.鸟的种类（选填）",
                    "6.鸟的数量（选填）",
                    "7.天空情况（无云、少云、多云等）（选填）",
                    "8.降水情况（雾、雨、雪等）（选填）",
                    "9.飞行机组是否收到鸟或蝙蝠活动提醒（选填）",
                    "10.鸟击是否通报管制（必填）",
                    "11.鸟击是否通报机务（选填）",
                    "12.鸟击部位（/）",
                    "13.残留物情况（/）",
                    "14.损伤情况（/）",
                    "15.后续维修处理情况（/）",
                    "16.对后续飞行的影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，鸟击时间，鸟击高度和航空器速度，使用的跑道，鸟击发生时的飞行阶段，鸟的种类，鸟的数量撞击，天空情况降水情况。飞行机组是否收到鸟或蝙蝠活动提醒，鸟击是否通报管制，鸟击是否通报机务，机务检查，鸟击部位，残留物情况，损伤情况，后续维修处理情况，对后续飞行的影响。"
                ],
                explanation: "在航空器上发现鸟击（含蝙蝠）留下的血迹、羽毛、皮肤、肌肉或肢体等残留物。"
            },
            {
                id: "crew_incapacity",
                name: "机组失能/发病",
                points: [
                    "1.失能或者发病的具体人员信息（必填）",
                    "2.失能/发病时飞行阶段或运行阶段（必填）",
                    "3.失能或者发病的原因（包括事发时病症）（选填）",
                    "4.机组病史（选填）",
                    "5.机组处置情况（必填）",
                    "6.是否宣布紧急情况（必填）",
                    "7.对后续航班的影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，失能或者发病的具体人员信息，在失能/发病时飞行阶段或运行阶段，失能或者发病的原 因,机组病史，机组处置情况是否宣布紧急情况，对后续航班的影响。"
                ],
                explanation: "飞行机组成员或客舱乘务员因受伤、患病、疲劳、酒精、食物中毒或药物的影响而无法履行其职责"
            },
            {
                id: "depressurization",
                name: "失压/紧急下降",
                points: [
                    "1.飞行高度（必填）",
                    "2.座舱高度（必填）",
                    "3.座舱高度告警情况（必填）",
                    "4.是否宣布紧急情况（必填）",
                    "5.旅客氧气面罩释放情况（必填）",
                    "6.空管工作情况（选填）",
                    "7.机组处置情况（必填）",
                    "8.紧急下降后的改平高度（必填）",
                    "9.机组和旅客是否使用氧气（必填）",
                    "10.后续机组处置程序（必填）",
                    "11.后续的维修处理情况（/）",
                    "12.机械故障及保留情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在飞行高度，座舱高度，座舱高度告警情况，是否宣布紧急情况，旅客氧气面罩释放情况，空管工作情况，机组处置情况，紧急下降后的改平高度，机组和旅客是否使用氧气，后续的维修处理情况，后续机组处置程序机械故障及保留情况。"
                ],
                explanation: "出现座舱高度警告、座舱高度达到该运行阶段应当触发座舱高度警告的条件、座舱高度达到客舱氧气面罩自动脱落的情况。航空器增压异常导致氧气面罩脱落或需改变高度"
            },
            {
                id: "cabincockpit_event",
                name: "其他驾驶舱/客舱安全事件",
                points: [
                    "1.事件的起因（必填）",
                    "2.飞行机组处置情况（必填）",
                    "3.客舱机组处置情况（/）",
                    "4.对航班后续运行产生的影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，事件的起因，驾驶舱/客舱发生XX事件，飞行机组处置情况，客舱机组处置情况，对后续运行产生的影响。"
                ],
                explanation: "客舱内设备、行李、其他物品滑出或其他原因（旅客自身原因除外）造成人员受伤；误操作导致氧气面罩脱落。旅客生病导致宣布紧急状态。驾驶舱、客舱中有异味、粉尘等，若是起火冒烟引起，归为\"航空器（内）起火/冒烟/火警\""
            },
            {
                id: "unplanned_ifr_weather",
                name: "非计划仪表天气条件飞行",
                points: [
                    "1.计划仪表天气（选填）",
                    "2.违规飞行情况（必填）",
                    "3.机组处置情况（必填）",
                    "4.事件发生的影响因素（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号飞机执行（起飞机场）-（目的地机场）航班，发生非计划仪表天气飞行，当时计划天气，违规飞行情况，机组处置情况。事件发生的影响因素。"
                ],
                explanation: "未按规定在仪表天气条件下进行飞行操作"
            },
            {
                id: "fod_damage",
                name: "外来物击伤",
                points: [
                    "1.击伤的发现过程（选填）",
                    "2.航空器损伤情况（如位置、尺寸等）（/）",
                    "3.外来物材质（/）",
                    "4.后续的维修处理情况（/）",
                    "5.放行情况及放行依据（/）",
                    "6.机组是否有感知（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，击伤的发现过程，航空器损伤情况，后续的维修处理情况，放行情况及放行依据。机组是否有感知。"
                ],
                explanation: "外来物体撞击航空器造成的损伤"
            },
            {
                id: "carry_other_objects",
                name: "携带其他物体飞行",
                points: [
                    "1.其他物体发现过程（选填）",
                    "2.其他物体名称（选填）",
                    "3.其他物体在航空器上的具体位置（选填）",
                    "4.其他物体是否损伤航空器（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，其他物体发现过程，发现飞机携带其他物体名称飞行，其他物体在航空器上的具体位置，其他物体是否损伤航空器。"
                ],
                explanation: "航空器携带额外的非必要物体进行飞行"
            },
            {
                id: "other_object_damage",
                name: "其他物体击伤",
                points: [
                    "1.击伤的发现过程（选填）",
                    "2.航空器损伤情况（如位置、尺寸等）（/）",
                    "3.后续的维修处理情况（/）",
                    "4.放行情况及放行依据（/）",
                    "5.机组是否有感知（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，击伤的发现过程，航空器损伤情况，后续的维修处理情况，放行情况及放行依据。机组是否有感知。"
                ],
                explanation: "其他非外来物物体撞击航空器造成的损伤"
            },
            {
                id: "communication_loss",
                name: "通信中断",
                points: [
                    "1.运行阶段（必填）",
                    "2.发生管制区域（必填）",
                    "3.通信中断的原因（必填）",
                    "4.通信中断起、止时间及中断时长（必填）",
                    "5.机组处置情况（必填）",
                    "6.空管工作情况（选填）",
                    "7.有无造成其他航班避让（选填）",
                    "8.后续的维修处理情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在运行阶段，发生管制区域，通信中断的原因，通信中断起、止时间及中断时长，机组处置情况，空管工作情况。有无造成其他航班避让。后续的维修处理情况。"
                ],
                explanation: "陆空通信双向联系中断是指空管单位和飞行机组之间无法通过经局方批准使用的VHF、HF语音通信或CPDLC提供和接收有效的空中交通服务，包含但不限于因通信设备失效、使用错误的通信频率或人为原因（如语音通信音量调小、睡岗等）导致发送和接收通信中断"
            },
            {
                id: "external_load_event",
                name: "外载荷相关事件",
                points: [
                    "1.外载荷事件发生的具体设备（必填）",
                    "2.发生的情况（必填）",
                    "3.机组处置情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号飞机执行（起飞机场）-（目的地机场） 航班，外载荷事件发生的具体设备，发生的情况，机组处置情况。"
                ],
                explanation: "与航空器外部挂载载荷相关的异常事件"
            },
            {
                id: "rejected_takeoff",
                name: "中断起飞",
                points: [
                    "1.中断起飞的原因（必填）",
                    "2.中断起飞操纵时的实际速度（必填）",
                    "3.V1（必填）",
                    "4.最大速度（必填）",
                    "5.空管工作情况（选填）",
                    "6.后续的维修处理情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，中断起飞的原因，中断起飞操纵时的实际速度，V1，最大速度，空管工作情况。后续的维修处理情况。"
                ],
                explanation: "由于机械故障或其他原因造成航空器中断起飞的事件"
            },
            {
                id: "hard_landing",
                name: "重着陆/着陆载荷大",
                points: [
                    "1.使用的进近程序（必填）",
                    "2.使用跑道（必填）",
                    "3.最大垂直载荷（G值，是否超限）（必填）",
                    "4.垂直载荷限制值大小（必填）",
                    "5.天气情况（选填）",
                    "6.接地前的下降率（必填）",
                    "7.着陆姿态（必填）",
                    "8.着陆重量（必填）",
                    "9.航空器检查情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，使用的进近程序，在使用跑道落地时发生重着陆，最大垂直载荷，未超过垂直载荷限制值大小，事发时天气情况，接地前的下降率，着陆姿态，着陆重量，后续航空器检查情况。"
                ],
                explanation: "航空器在着陆时垂直过载超过下列标准或该机型其他过载限制"
            },
            {
                id: "overweight_landing",
                name: "超重着陆",
                points: [
                    "1.超重着陆的原因（必填）",
                    "2.实际着陆重量（必填）",
                    "3.最大允许着陆重量（必填）",
                    "4.垂直载荷（必填）",
                    "5.航空器检查情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，超重着陆的原因，着陆时飞机全重实际着陆重量，超过最大允许着陆重量，垂直载荷。航空器检查情况。"
                ],
                explanation: "航空器实际着陆重量超过最大允许着陆重量"
            },
            {
                id: "tailstrike",
                name: "擦尾/擦发动机/擦翼尖/擦机腹",
                points: [
                    "1.使用的进近程序（必填）",
                    "2.使用跑道（必填）",
                    "3.事件发生的影响因素（必填）",
                    "4.航空器擦地部位（必填）",
                    "5.天气情况（必填）",
                    "6.航空器擦地前后姿态（必填）",
                    "7.有无告警（必填）",
                    "8.机组是否感知（必填）",
                    "9.故障保留情况（/）",
                    "10.航空器损伤情况（/）",
                    "11.放行情况及依据（/）",
                    "12.后续维修处理情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，使用的进近程序、使用跑道，由于事件发生的影响因素，航空器擦地部位，事发时天气情况，擦地时航空器擦地前后姿态，有无告警，机组是否感知。航前飞机故障保留情况，落地后航空器损伤情况，放行情况及依据，后续维修处理情况。"
                ],
                explanation: "起落架机轮（滑撬、尾环、浮筒）之外的任何部位触地"
            },
            {
                id: "gear_up_landing",
                name: "未放/部分起落架着陆",
                points: [
                    "1.事发原因（必填）",
                    "2.接地速度、角度、位置等情况（必填）",
                    "3.应急措施（必填）",
                    "4.机组处置情况（必填）",
                    "5.故障保留情况（/）",
                    "6.航空器损伤情况（/）",
                    "7.后续维修处理情况（/）",
                    "8.放行情况及依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，因事发原因，未放/部分起落架着陆，接地速度、角度、位置等情况。事发时应急措施， 接地后机组处置情况。航前故障保留情况，航空器损伤情况后续维修处理情况，放行情况及依据。"
                ],
                explanation: "任一起落架收回着陆"
            },
            {
                id: "runway_excursion",
                name: "冲/偏出跑道",
                points: [
                    "1.使用的进近程序（必填）",
                    "2.使用跑道（必填）",
                    "3.事件的影响因素（必填）",
                    "4.天气情况（必填）",
                    "5.道面状况（必填）",
                    "6.航空器接地位置（必填）",
                    "7.航空器损伤情况（部位、程度、是否超标）（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，使用的进近程序，使用跑道，因事件的影响因素，飞机冲/偏出跑道。当时天气情况，道面状况，航空器接地位置，检查发现航空器损伤情况。"
                ],
                explanation: "发生航空器冲/偏出跑道；发现有航空器冲出、偏出跑道的痕迹。落地后掉头或者起飞前掉头时撞到跑道边灯也属于该类事件。"
            },
            {
                id: "runway_incursion",
                name: "跑道侵入/占用",
                points: [
                    "1.计划、实际跑道/滑行道/线路（必填）",
                    "2.事件发生的影响因素（必填）",
                    "3.使用跑道（必填）",
                    "4.跑道占用和/或侵入情况（必填）",
                    "5.能见度和跑道视程（选填）",
                    "6.航空器和/或车辆的避让动作（必填）",
                    "7.涉及的航空器、车辆、人员信息（选填）",
                    "8.机组处置情况（必填）",
                    "9.空管工作情况（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，计划、实际跑道/滑行道/线路，因事件发生的影响因素，侵入/占用使用跑道，跑道占用和/或侵入情况。当时能见度和跑道视程，航空器和/或车辆的避让动作，涉及的航空器、车辆、人员信息，机组处置情况，空管工作情况。"
                ],
                explanation: "跑道侵入是指在机场发生的任何航空器、车辆或人员错误的出现在指定用于航空器着陆和起飞的地面保护区的情况。跑道占用是指管制员发布起飞着陆许可时，航空器、车辆、人员、物体等存在于跑道上的情况。由于前机超出空中交通管制（ATC）正常预期占用跑道（例如：突发机械故障、脱离动作慢、起飞离地晚）导致后机中断着陆或进近的情形不归为\"跑道占用\"。"
            },
            {
                id: "runway_off_touchdown",
                name: "跑道外接地",
                points: [
                    "1.使用的进近程序（必填）",
                    "2.使用跑道（必填）",
                    "3.事件发生的影响因素（必填）",
                    "4.接地位置（必填）",
                    "5.航空器姿态（必填）",
                    "6.接地速度（必填）",
                    "7.接地后运动轨迹（必填）",
                    "8.使用拖车还是自主滑回（必填）",
                    "9.故障保留情况（/）",
                    "10.航空器损伤情况（/）",
                    "11.放行情况及依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，使用的进近程序，使用跑道，因事件发生的影响因素发生跑道外接地。接地位置，航空器姿态,接地速度，接地后运动轨迹，使用拖车还是自主滑 回。航前故障保留情况，落地后检查发现航空器损伤情况，后续放行情况及依据。"
                ],
                explanation: "跑道区域附近，在跑道外接地的任何事件；发现有航空器跑道外接地的痕迹；不包括机场外紧急着陆事件。"
            },
            {
                id: "runway_confusion",
                name: "跑道混淆",
                points: [
                    "1.跑道混淆的影响因素（必填）",
                    "2.天气情况（必填）",
                    "3.通信导航设备工作情况（必填）",
                    "4.指令跑道编号（必填）",
                    "5.机组的工作情况（必填）",
                    "6.空管工作情况（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，因跑道混淆的影响因素，发生跑道混淆，当时天气情况，通信导航设备工作情况，指令跑道编号，机组的工作情况，空管工作情况。"
                ],
                explanation: "航空器在滑行道、关闭或未指定的跑道上起飞、中断起飞、着陆或尝试着陆，或认错跑道（跑道方向）导致中止进近/复飞。认错、落错机场的情况也归于此类。"
            },
            {
                id: "discontinued_approach",
                name: "中止进近/复飞",
                points: [
                    "1.中止进近/复飞原因（必填）",
                    "2.中止进近和复飞时的高度（无线电高度）（必填）",
                    "3.机组处置情况（必填）",
                    "4.落地后剩油（必填）",
                    "5.造成的影响（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，因中止进近/复飞原因，在中止进近和复飞时的高度中止进近/复飞，机组处置情况，落地后剩油。"
                ],
                explanation: "接地后复飞或复飞中接地；除低能见度、大风、乱流、雷雨等天气原因，机场关闭、宵禁和旅客自身原因外，机场标高300m以下的中止进近、复飞。"
            },
            {
                id: "return_alternate",
                name: "返航/备降",
                points: [
                    "1.返航/备降的原因（必填）",
                    "2.实际落地地点（必填）",
                    "3.落地后剩油（必填）",
                    "4.后续航班执行计划（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，因返航/备降的原因，返航/备降实际落地地点，落地后剩油，后续航班执行计划。"
                ],
                explanation: "除低能见度、大风、乱流、雷雨等天气原因，机场关闭、宵禁和旅客自身原因外，返航、备降。"
            },
            {
                id: "forced_landing",
                name: "迫降/紧急着陆",
                points: [
                    "1.迫降起因（必填）",
                    "2.实际落地地点（必填）",
                    "3.机组处置情况（必填）",
                    "4.现场应急处置情况（必填）",
                    "5.故障保留情况（/）",
                    "6.后续机务维修处理情况（/）",
                    "7.放行情况及放行依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，因迫降起因，迫降/紧急着陆实际落地地点，机组处置情况，现场应急处置情况。航前故障保留情况，后续机务维修处理情况，放行情况及放行依据。"
                ],
                explanation: "航空器因故不能以符合运行标准（含常规或授权偏离）的方式实施降落。"
            },
            {
                id: "unapproved_operation",
                name: "未经许可/低于标准起飞/着陆",
                points: [
                    "1.事件的影响因素（必填）",
                    "2.违规情况（必填）",
                    "3.机组处置情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，因事件的影响因素，违规情况，机组处置情况。"
                ],
                explanation: "未得到许可起飞或着陆；低于运行标准起飞、开始最后进近或着陆；航空器不符合放行条件放行或未执行放行工作起飞。"
            },
            {
                id: "wrong_procedure",
                name: "飞偏/飞错进离场程序",
                points: [
                    "1.指令的进离场程序（必填）",
                    "2.实际的进离场程序（必填）",
                    "3.飞错的原因（必填）",
                    "4.飞错的情况（包括管制指令、机组复诵以及管制回复情况）（必填）",
                    "5.机组处置情况（必填）",
                    "6.空管工作情况（选填）",
                    "7.是否平行跑道运行（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，指令的进离场程序，实际的进离场程序，飞错的原因，飞错的情况，机组处置情况，空管工作情况，是否平行跑道运行。"
                ],
                explanation: "飞偏或飞错进离场航线，并导致其他航空器避让；偏离指定进离场航线5km或2倍RNP值以上；未正确执行复飞程序。以发现偏离后管制与机组之间建立联系时的最大偏离距离为准。"
            },
            {
                id: "incorrect_configuration",
                name: "未完成预定构型/未达到预定构型",
                points: [
                    "1.预定的构型/性能（必填）",
                    "2.事件原因（必填）",
                    "3.实际的构型（和预定构型的偏差）/实际的性能（和预定构型的偏差）（必填）",
                    "4.机组处置情况（必填）",
                    "5.造成的后果或影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，预定的构型/性能，因事件原因，实际的构型/性能，机组处置情况。造成的后果或影响。"
                ],
                explanation: "航空器安定面配平超出起飞允许的范围、航空器未按性能计算结果而设定的起飞构型继续起飞；飞行中未完成预定的航空器构型（如起落架或起落架舱门、襟翼、缝翼等不能正常收放）；航空器进近期间起落架未放到位，高度下降到机场标高100米以下；在起飞、初始爬升或复飞过程中明显未达到预定性能。"
            },
            {
                id: "tire_failure",
                name: "爆胎/轮胎脱层/扎破",
                points: [
                    "1.发生或发现阶段（必填）",
                    "2.爆胎后机组处置情况（必填）",
                    "3.使用跑道（必填）",
                    "4.滑行线路（必填）",
                    "5.损伤情况（选填）",
                    "6.轮胎扎伤事件中残留物名称、材质、尺寸（选填）",
                    "7.后续维修处理情况（选填）",
                    "8.放行情况及放行依据（选填）",
                    "9.造成的后果或影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在发生或发现阶段， 爆胎/轮胎脱层/扎破，爆胎后机组处置情况，使用跑道，滑行线路，损伤情况，轮胎扎伤事件中残留物名称、材质、尺寸，后续维修处理情况，放行情况及放行依据。造成的后果或影响。"
                ],
                explanation: "航空器轮胎爆破、脱层或扎破处遗留外来物"
            },
            {
                id: "system_failure",
                name: "系统失效/故障/卡阻",
                points: [
                    "1.发生或发现阶段（必填）",
                    "2.系统类型（必填）",
                    "3.失效功能/部件及程度（必填）",
                    "4.机组处置情况（是否因故障导致向管制部门请求改变高度/速度）（必填）",
                    "5.对飞行的影响（必填）",
                    "6.后续维修处理情况及影响（/）",
                    "7.故障保留情况（/）",
                    "8.放行情况及放行依据（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在发生或发现阶段， 系统失效/故障/卡阻，系统类型，失效功能/部件及程度，机组处置情况，对飞行的影响。后续维修处理情况及影响，故障保留情况，放行情况及放行依据。"
                ],
                explanation: "航空器系统或组件失效或发生故障，需改变高度、速度、造成中止进近、复飞、返航、备降、占用跑道、需机场启动应急救援响应程序或需在最近合适机场着陆。"
            },
            {
                id: "component_failure",
                name: "零部件缺失/损坏/磨损",
                points: [
                    "1.发生或发现阶段（必填）",
                    "2.零部件名称（必填）",
                    "3.零部件受损情况（必填）",
                    "4.机组处置情况（是否因故障导致向管制部门请求改变高度/速度/）（必填）",
                    "5.后续维修处理情况及影响（/）",
                    "6.零部件的维修史（1年内）（/）",
                    "7.故障保留情况（/）",
                    "8.放行情况及放行依据（/）",
                    "事件经过示例：XXXXX年 XX月 XX日机型/机号执行（起飞机场）-（目的地机场）航班，在发生或发现阶段，零部件缺失/损坏/磨损，零部件名 称，零部件受损情况，机组处置情况，后续维修处理情况及影响，零部件的维修史，故障保留情况，放行情况及放行依据。"
                ],
                explanation: "航空器零部件脱落、未安装、损坏、磨损，包括飞行中航空器操纵面、发动机整流罩、舱门或风挡玻璃脱落，蒙皮揭起或张线断裂等。"
            },
            {
                id: "engine_stop",
                name: "发动机停车",
                points: [
                    "1.运行阶段（必填）",
                    "2.飞行高度（必填）",
                    "3.飞行速度（必填）",
                    "4.发动机参数（必填）",
                    "5.告警信息（必填）",
                    "6.自动停车还是人工关停（必填）",
                    "7.（需要）停车的发动机台数（必填）",
                    "8.机组处置情况（向空管部门要求提供的引导，比如改变高度，速度等）（必填）",
                    "9.发动机的监控情况（维修方面）（/）",
                    "10.是否涉及鸟击、尾流、雷击、火山灰（必填）",
                    "11.故障保留情况（/）",
                    "12.放行情况及依据（/）",
                    "13.发动机型号、总使用小时、总使用循环（/）",
                    "事件经过示例：XXXXX年 XX月 XX日机型/机号执行（起飞机场）-（目的地机场）航班，在运行阶段，发动机停车，飞行高度，飞行速度，发动机参数，告警信息，自动停车还是人工关停，（需要）停车的发动机台数，机组处置情况，发动机的监控情况（维修方面），是否涉及鸟击、尾流、雷击、火山灰，故障保留情况，放行情况及依据，发动机型号、总使用小时、总使用循环。",
                    "注：地面关车，飞行高度、飞行速度无需填报。"
                ],
                explanation: "发动机停车或需要关停的情况；非包容性涡轮发动机失效。"
            },
            {
                id: "other_engine_event",
                name: "其他发动机相关事件",
                points: [
                    "1.飞行阶段（必填）",
                    "2.失效或者故障的发动机部件（必填）",
                    "3.对航空器运行造成的影响（必填）",
                    "4.灭火瓶使用/释放情况（选填）",
                    "5.机组处置情况（向空管部门要求提供的引导，比如改变高度，速度等）（必填）",
                    "6.部件的历史维修情况（选填）",
                    "7.故障保留情况（选填）",
                    "8.发动机损伤情况（选填）",
                    "9.放行情况及依据（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在飞行阶段，失效或者故障的发动机部件，对航空器运行造成的影响，灭火瓶使用/释放情况，机组处置情况。部件的历史维修情况，故障保留情况发动机损伤情况，放行情况及依据。"
                ],
                explanation: "发动机起火或出现火警；下列任一部件的失效或故障：螺旋桨、旋翼、螺旋桨/主旋翼传动系统（齿轮箱、传动装置）、反推装置和动力装置控制系统；飞行中反推打开（正常使用除外）；发动机排气温度、振动值等超限。"
            },
            {
                id: "fire_smoke",
                name: "航空器（内）起火/冒烟/火警/触发虚假烟雾警告",
                points: [
                    "1.运行阶段（必填）",
                    "2.起火/冒烟位置（必填）",
                    "3.起火/冒烟原因（必填）",
                    "4.火警持续时间（必填）",
                    "5.是否有明火（必填）",
                    "6.灭火瓶使用/释放情况（必填）",
                    "7.机组处置情况（向空管部门要求提供的引导，比如改变高度，速度等）（必填）",
                    "8.客舱机组处置情况（选填）",
                    "9.航空器损伤及人员受伤情况（必填）",
                    "10.故障保留情况（选填）",
                    "11.放行情况及依据（选填）",
                    "12.旅客物品信息（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在运行阶段，起火/ 冒烟位置，起火/冒烟原因，火警持续时间，是否有明火，灭火瓶使用/释放情况，机组处置情况，客舱机组处置情况，航空器损伤及人员受伤情况，故障保留情况，放行情况及依据。",
                    "注：如起火/冒烟物品为旅客携带物品，则需填写物品的完整信息，包括物品名称、生产厂家、型号等信息。若是充电宝，还需标明额定能量等信息。"
                ],
                explanation: "航空器（内）起火、冒烟或出现火警、烟雾警告（因刹车引起的轮毂冒烟和烤箱内食物冒烟除外）。"
            },
            {
                id: "evacuation",
                name: "撤离",
                points: [
                    "1.撤离原因（必填）",
                    "2.撤离位置（必填）",
                    "3.撤离类型-有准备和无准备（必填）",
                    "4.撤离实施过程（必填）",
                    "5.机组工作情况（必填）",
                    "6.客舱机组工作情况（/）",
                    "7.应急设备使用情况（必填）",
                    "9.人员受伤情况（必填）",
                    "10.天气情况（必填）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，撤离原因，在 XX 滑行道附近全停撤离位置，撤离类型-有准备和无准备，撤离实施过程，机组工作情况，客舱机组工作情况，应急设备使用情况，人员受伤情况。事件发生时天气情况。",
                ],
                explanation: "陆地撤离及水上迫降后实施的撤离。"
            },
            {
                id: "ground_collision",
                name: "航空器地面碰撞",
                points: [
                    "1.事件发生的影响因素（必填）",
                    "2.航空器撞击部位及损伤情况（必填）",
                    "3.天气情况（必填）",
                    "4.障碍物情况（必填）",
                    "5.滑行线路（选填）",
                    "6.机场相关标志、标识（选填）",
                    "7.机组处置情况（必填）",
                    "8.刹车工作情况（必填）",
                    "9.涉事人员岗位资质信息（*必填）",
                    "10.涉事人员、车辆、设备、设施具体信息（*必填）",
                    "11.后续维修处理情况及影响（/）",
                    "12.放行情况及依据（/）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在 XX 机场，因事件发生的影响因素发生航空器地面碰撞，航空器撞击部位及损伤情况。事件发生时天气情况，障碍物情况，滑行线路，机场相关标志、标识，机组处置情况，刹车工作情况，涉事人员岗位资质信息，涉事人员、车辆、设备、设施具体信息，后续维修处理情况及影响，放行情况及依据。注：*必填为涉事人员、车辆、设备、设施等信息为涉事部门必填项，非涉事部门为选填项。"
                ],
                explanation: "航空器在地面与航空器、设施设备、车辆、人员、动物或其他物体碰撞。"
            },
            {
                id: "vehicle_collision",
                name: "车辆与车辆/人员/设备设施碰撞",
                points: [
                    "1.具体涉事对象（*必填）",
                    "2.事发地点具体位置（*必填）",
                    "3.车辆/设备设施/人员受损/伤亡情况（*必填）",
                    "4.对安全和运行的影响（*必填）",
                    "5.后续处理情况（*必填）",
                    "6.原因分析（*必填）",
                    "7.整改措施（*必填）",
                    "事件经过示例：XXXX年 XX月 XX日 XX 时XX 分，XX单位的具体涉事对象与XX单位的具体涉事对象在事发地点具体位置发生碰撞，造成车辆/设备设施/人员受损/ 伤亡情况，对安全和运行的影响，后续处理情况，原因分析，整改措施。",
                    "注：*必填为涉事人员、车辆、设备、设施等信息为涉事部门必填项，非涉事部门为选填项。"
                ],
                explanation: "车辆与车辆、人员或设备设施之间发生的碰撞事件。"
            },
            {
                id: "ground_abrupt_maneuver",
                name: "地面急剧机动",
                points: [
                    "1.滑行路线（必填）",
                    "2.事件发生具体位置（必填）",
                    "3.航空器避让对象（必填）",
                    "4.航空器避让对象具体信息（*必填）",
                    "5.航空器刹车使用情况（必填）",
                    "6.航空器与避让对象最小间隔距离（选填）",
                    "7.对安全运行的影响（选填）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在 XX 机场地面滑行期间， 航空器在地面急剧机动，滑行路线，事件发生具体位置，航空器避让对象，航空器避让对象具体信息，航空器刹车使用情况，航空器与避让对象最小间隔距离，对安全运行的影响。",
                    "注：*必填为涉事人员、车辆、设备、设施等信息为涉事部门必填项，非涉事部门为选填项。"
                ],
                explanation: "航空器在地面滑行过程中进行急剧机动的情况。"
            },
            {
                id: "dangerous_goods",
                name: "物品运输",
                points: [
                    "1.物品类型（/）",
                    "2.所运输物品存在的问题（/）",
                    "3.灭火瓶使用/释放情况（/）",
                    "4.航空器损伤或人员受伤情况（/）",
                    "5.对安全运行的影响（/）",
                    "6.应急处置情况（/）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在 XX 机场落地后货物卸机过程中发现物品类型，所运输物品存在的问题，灭火瓶使用/释放情况，航空器损伤或人员受伤情况，对安全运行的影响，应急处置情况。",
                ],
                explanation: "载运的物品因泄漏等情况导致航空器损伤或人员受伤。机位安全线或等效安全区内机舱外起火或冒烟。"
            },
            {
                id: "weight_balance",
                name: "配载/装载",
                points: [
                    "1.计划配载情况（/）",
                    "2.实际装载情况（/）",
                    "3.装载错误的货物、行李的具体数量、重量和位置（/）",
                    "4.是否超过最后一分钟修正限制或航空器重心包线范围（/）",
                    "5.机组操纵是否困难（必填）",
                    "6.其他人员处置情况（/）",
                    "7.对安全运行的影响（选填）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，飞机实际装载与载重平衡舱单不符，计划配载情况，实际装载情况，装载错误的货物、行李的具体数量、重量和位置，是否超过最后一分钟修正限制或航空器重心包线范围，机组操纵是否困难，其他人员处置情况，对安全运行的影响。",
                ],
                explanation: "由于乘员、行李、邮件、货物、压舱物等的重量、装载位置与固定等原因，导致超过最后一分钟修正限值或超出重心限制，航空器起飞。航空器内货物、邮件、行李、集装器等与航空器碰撞也归为此类"
            },
            {
                id: "unintended_movement",
                name: "非正常位移",
                points: [
                    "1.非正常位移原因（*必填）",
                    "2.相关天气情况（*必填）",
                    "3.事件发生的具体位置（*必填）",
                    "4.航空器位移量（距离、角度等）（*必填）",
                    "5.航空器停放固定情况（刹车、轮档、系留）（*必填）",
                    "6.停放道面坡度情况（选填）",
                    "7.造成的影响（*必填）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，非正常位移原因，航空器发生非正常位移，事件发生时相关天气情况，事件发生的具体位置，航空器位移量，航空器停放固定情况，停放道面坡度情况，造成的影响。",
                    "注：*必填为涉事人员、车辆、设备、设施等信息为涉事部门必填项，非涉事部门为选填项。"
                ],
                explanation: "静止状态的航空器发生非正常位移"
            },
            {
                id: "engine_airflow",
                name: "发动机气流",
                points: [
                    "1.事件发生具体位置（必填）",
                    "2.气流防护设施情况或警示标识情况（必填）",
                    "3.航空器状态（必填）",
                    "4.其他航空器或地面设施、设备损（必填）",
                    "5.天气情况（选填）",
                    "6.相关处置和保障情况（选填）",
                    "事件经过示例:XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，事件发生具体位置，气流防护设施情况或警示标识情况，航空器状态，其他航空器或地面设施、设备损坏或人员伤亡情况，天气情况，相关处置和保障情况。",
                ],
                explanation: "发动机气流造成的人员、车辆、设备设施损伤或影响运行安全的事件"
            },
            {
                id: "wrong_fuel",
                name: "加错油",
                points: [
                    "1.事发阶段、地点（必填）",
                    "2.加错的型号或油量（必填）",
                    "3.对飞行运行的影响（必填）",
                    "4.后续处理情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在事发阶段、地点，加错的型号或油量，对飞行运行的影响，后续处理情况。"
                ],
                explanation: "加注不合格或错误型号的燃油/滑油/液压油，或加注燃油量错误对航空器安全运行造成影响"
            },
            {
                id: "fuel_spill",
                name: "油泄漏/溢出",
                points: [
                    "1.事发阶段、地点（必填）",
                    "2.油液泄漏情况（必填）",
                    "3.处置情况（必填）",
                    "4.泄漏面积（/）",
                    "5.机械故障及维修情况（/）",
                    "6.故障保留情况（/）",
                    "7.放行情况及依据（/）",
                    "8.滑行或飞行中油液泄漏触发警告情况（选填）",
                    "9.飞行中低油量警告管制是否指挥避让（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在事发阶段、地点，油液泄漏情况，处置情况，泄漏面积，机械故障及维修情况，故障保留情况，放行情况及依据滑行或飞行中油液泄漏触发警告情况飞行中低油量警告管制是否指挥避让。"
                ],
                explanation: "燃油泄漏，污染机坪面积超过5㎡；在滑行或飞行中，燃油、滑油或液压油渗漏。以航空器燃油停止泄漏时的过油面积为准。"
            },
            {
                id: "maintenance_repair",
                name: "机务维护、维修",
                points: [
                    "1.维护维修差错情况（/）",
                    "2.航空器损伤情况（/）",
                    "3.人员伤亡情况（/）",
                    "4.维修管理程序（/）",
                    "5.对航空器运行造成的（可能）影响（/）",
                    "6.处置措施（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，维护维修差错情况，航空器损伤情况，人员伤亡情况，维修管理程序，对航空器运行造成的（可能）影响，处置措施。"
                ],
                explanation: "机务维护、维修过程中出现的问题对航空器安全运行造成影响"
            },
            {
                id: "ground_loss_control",
                name: "航空器地面失控",
                points: [
                    "1.失控的过程（必填）",
                    "2.失控的原因（必填）",
                    "3.应急处置措施（必填）",
                    "4.失控过程中涉及航空器损伤和人员受伤情况（必填）",
                    "5.机场运行情况（选填）",
                    "6.对其他航班运行影响（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，地面运行阶段，航空器发生地面失控事件，失控的过程，失控的原因，应急处置措施，失控过程中涉及航空器损伤和人员受伤情况，机场运行情况，对其他航班运行影响。"
                ],
                explanation: "因污染跑道或滑行道、系统失效、跑道侵入、避让动物等而导致的航空器地面失控情况；"
            },
            {
                id: "taxi_error",
                name: "偏出/滑错滑行道",
                points: [
                    "1.计划的滑行路线（必填）",
                    "2.机组对指令复诵是否正确（必填）",
                    "3.实际滑行路线（必填）",
                    "4.空管工作情况（选填）",
                    "5.机组处置情况（必填）",
                    "6.是否偏出边线/轧边灯（必填）",
                    "7.是否使用拖车（必填）",
                    "8.对其他航空器造成的影响（选填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，塔台指挥机组计划的滑行路线，机组对指令复诵是否正确，实际滑行路线，空管工作情况，机组处置情况，是否偏出边线/轧边灯是否使用拖车对其他航空器造成的影响。"
                ],
                explanation: "航空器滑行时偏出滑行道，以及滑错滑行道需要使用牵引设备重新回到正确滑行路线。滑行道包括航空器机位滑行通道、机坪滑行道、快速出口滑行道。不包含航空器越过机位停止线使用牵引设备的情况"
            },
            {
                id: "unauthorized_movement",
                name: "未经许可推出/滑行",
                points: [
                    "1.事件发生的影响因素（必填）",
                    "2.机组和/或管制的应急处置（必填）",
                    "3.违规情况（必填）",
                    "4.对安全运行的影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，事件发生的影响因素，机组和/或管制的应急处置，违规情况，对安全运行的影响。"
                ],
                explanation: "未得到管制许可推出、起动或滑行"
            },
            {
                id: "slide_deployment",
                name: "滑梯放出/滑梯包脱落/应急出口",
                points: [
                    "1.放出滑梯的时间、地点、飞行阶段（必填）",
                    "2.放出过程（/）",
                    "3.放出滑梯的人员（/）",
                    "4.应急处置措施（必填）",
                    "5.对安全运行的影响（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，放出滑梯的时间、地点、飞行阶段，放出过程，放出滑梯的人员，应急处置措施，对安全运行的影响。"
                ],
                explanation: "因机组、机务、旅客、机械等原因，导致滑梯放出/滑梯包脱落或应急出口非正常打开"
            },
            {
                id: "elt_trigger",
                name: "ELT触发",
                points: [
                    "1.触发地点与飞行阶段（*必填）",
                    "2.触发过程（*必填）",
                    "3.触发ELT的人员（*必填）",
                    "4.ELT发射情况（*必填）",
                    "5.应急处置措施（*必填）",
                    "6.对安全运行的影响（*必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在触发地点与飞行阶段，触发过程，发生ELT触发的情况，触发ELT的人员，ELT发射情况，应急处置措施，对安全运行的影响。",
                    "注：*必填为涉事人员、车辆、设备、设施等信息为涉事部门必填项，非涉事部门为选填项。"
                ],
                explanation: "机载应急定位发射机（ELT）非正常触发"
            },
            {
                id: "animal_strike",
                name: "动物撞击/运输动物逃逸",
                points: [
                    "1.撞击时间/逃逸时间（/）",
                    "2.动物种类（/）",
                    "3.对航空运行的影响情况（/）",
                    "4.航空器损伤情况（/）",
                    "5.能证明是动物撞击的证据（/）",
                    "6.故障保留情况（/）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，撞击时间有撞击动物种类穿越跑道，造成对航空运行的影响情况。航后检查发现航空器损伤情况。能证明是动物撞击的证据，故障保留情况。"
                ],
                explanation: "与鸟击事件区分开，指在机场跑道或机场活动区发生的动物撞击"
            },
            {
                id: "obstruction",
                name: "超高障碍物/升空物体",
                points: [
                    "1.障碍物、升空物体位置、高度（必填）",
                    "2.应急处置情况（必填）",
                    "3.对安全运行的影响（必填）",
                    "4.相关天气情况（必填）",
                    "事件经过示例：XXXX年XX月XX日机型/机号执行（起飞机场）-（目的地机场）航班，在 XX 位置，障碍物、升空物体情况，应急处置情况，对安全运行的影响，相关天气情况。"
                ],
                explanation: "遭遇无人机、风筝等升空物体导致航空器避让。在机场净空保护区域内，出现超出机场障碍物限制面或影响航空器安全运行的建（构）筑物，或者出现影响航空器安全运行的升空物体。"
            },
            {
                id: "radio_interference",
                name: "无线电干扰",
                points: [
                    "1.飞行阶段（必填）",
                    "2.发生位置（必填）",
                    "3.干扰情况（必填）",
                    "4.干扰持续的时间（必填）",
                    "5.对航班造成的影响（必填）",
                    "6.处置措施（必填）",
                    "7.故障维修及测试情况（/）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班，在飞行阶段，发生位置，发生无线电干扰情况，干扰持续的时间，对航班造成的影响。处置措施。故障维修及测试情况。"
                ],
                explanation: "无线电干扰影响航空器安全运行。"
            },
            {
                id: "turbulence",
                name: "空中颠簸",
                points: [
                    "1.飞行高度（必填）",
                    "2.飞行速度（马赫数）（必填）",
                    "3.机组绕飞雷雨情况及绕飞限制（选填）",
                    "4.颠簸严重程度（选填）",
                    "5.遭遇颠簸后机组处置情况（必填）",
                    "6.飞行高度偏离情况（必填）",
                    "7.垂直载荷值或变化范围（必填）",
                    "8.航空器姿态变化（必填）",
                    "9.AP是否接通（必填）",
                    "10.系紧安全带灯状态（必填）",
                    "11.气象雷达工作情况（必填）",
                    "12.航空器损伤情况（/）",
                    "13.人员受伤情况（必填）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班 ,飞行高度，飞行速度，机组绕飞雷雨情况及绕飞限制，遭遇颠簸严重程度，遭遇颠簸后机组处置情况，飞行高度偏离情况，垂直载荷值或变化范围，航空器姿态变化，AP是否接通，系紧安全带灯状态，气象雷达工作情况，航空器损伤情况，人员受伤情况。"
                ],
                explanation: "飞行中遭遇颠簸导致航空器损伤或人员受伤，或者造成航空器偏离高度60米以上。颠簸造成高度偏离也归在\"偏离姿态/高度\"类。"
            },
            {
                id: "wind_shear",
                name: "风切变",
                points: [
                    "1.飞行高度（必填）",
                    "2.警告类型（必填）",
                    "3.警告持续时间（必填）",
                    "4.天气情况（必填）",
                    "5.风向风速变化情况（必填）",
                    "6.空管是否发布风切变预警并通报机组（必填）",
                    "7.机组处置情况（必填）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班，飞行高度，触发警告类型，警告持续时间，天气情况，风向风速变化情况，空管是否发布风切变预警并通报机组，机组处置情况。"
                ],
                explanation: "飞行中，航空器遭遇风切变或触发风切变或预测型风切变警告。"
            },
            {
                id: "lightning",
                name: "雷击/电击",
                points: [
                    "1.雷击/电击部位（选填）",
                    "2.航空器各项参数变化情况（选填）",
                    "3.航空器损伤情况（/）",
                    "4.机组绕飞雷雨情况及绕飞限制（选填）",
                    "5.机组处置情况（选填）",
                    "6.放行情况及依据（/）",
                    "7.发生雷击时飞机位置（/）",
                    "8.客舱有无异常情况（/）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班，雷击/电击部位遭雷击，航空器各项参数变化情况，航空器损伤情况，放行情况及依据。",
                    "如机组感觉到雷击，补充空中飞行阶段，发生雷击时飞机位置，机组绕飞雷雨情况及绕飞限制，发现飞机遭雷击，航空器各项参数变化情况，客舱有无异常情况，机组处置情况。"
                ],
                explanation: "航空器遭雷击、电击，导致航空器损伤"
            },
            {
                id: "hail_ice",
                name: "雹击/冰击",
                points: [
                    "1.发生雹击/冰击时飞机位置（选填）",
                    "2.航空器损伤情况（/）",
                    "3.放行情况及依据（/）",
                    "4.机组绕飞雷雨情况及绕飞限制（选填）",
                    "5.航空器各项参数变化情况（选填）",
                    "6.客舱有无异常情况",
                    "7.机组处置情况（选填）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班，落地后发现遭冰击。航空器损伤情况，放行情况及依据。",
                    "如机组感觉到冰击，补充空中飞行阶段，发生雹击/冰击时飞机位置，机组绕飞雷雨情况及绕飞限制，飞机遭雹击/冰击，航空器各项参数变化情况，客舱有无异常情况，机组处置情况。"
                ],
                explanation: "航空器遭遇冰击/雹击，有对应的天气现象或残留冰渣等，导致航空器损伤"
            },
            {
                id: "aircraft_icing",
                name: "航空器结冰",
                points: [
                    "1.飞行高度（必填）",
                    "2.积冰程度（选填）",
                    "3.发动机振动指数（选填）",
                    "4.对航空器结构、性能、机组操纵等的影响（必填）",
                    "5.机组处置情况（必填）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班 ，在飞行高度，发生积冰程度，发动机振动指数，对航空器结构、性能、机组操纵等的影响，机组处置情况。"
                ],
                explanation: "由于冰、冻雨、雪或霜在航空器表面积累，给航空器操纵和性能造成不利影响的事件。"
            },
            
            {
                id: "dust_ash",
                name: "沙尘/火山灰",
                points: [
                    "1.飞行阶段（必填）",
                    "2.沙尘/火山灰情况（选填）",
                    "3.航空器损伤情况（/）",
                    "4.机组处置及决策（必填）",
                    "事件经过示例：XXXX年 XX月 XX日，机型/机号执行（起飞机场）-（目的地机场）航班，在飞行阶段,沙尘/火山灰情况，航空器损伤情况，机组处置及决策。"
                ],
                explanation: "由于沙尘或火山灰等在航空器表面或动力装置积累，给航空器操纵和性能造成不利影响"
            }
        ];

        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            initEventTypeDropdown();
            setCurrentDateTime();
        });
        
        // 设置当前日期时间
        function setCurrentDateTime() {
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            document.getElementById('eventTime').value = now.toISOString().slice(0, 16);
        }
        
        // 初始化事件类型下拉框
        function initEventTypeDropdown() {
            const eventTypeSelect = document.getElementById('eventType');
            
            // 添加事件类型选项（65种）
            eventTypes.forEach(type => {
                const option = document.createElement('option');
                option.value = type.id;
                option.textContent = type.name;
                option.dataset.name = type.name; // 存储名称用于搜索
                eventTypeSelect.appendChild(option);
            });
        }
        
        // 过滤事件类型
        function filterEventTypes() {
            const searchTerm = document.getElementById('eventTypeSearch').value.toLowerCase();
            const eventTypeSelect = document.getElementById('eventType');
            let hasVisibleOptions = false;
            
            // 隐藏默认的请选择选项
            eventTypeSelect.options[0].style.display = 'none';
            
            // 遍历所有选项并根据搜索词过滤
            for (let i = 1; i < eventTypeSelect.options.length; i++) {
                const option = eventTypeSelect.options[i];
                const optionName = option.dataset.name.toLowerCase();
                
                if (optionName.includes(searchTerm)) {
                    option.style.display = '';
                    hasVisibleOptions = true;
                } else {
                    option.style.display = 'none';
                }
            }
            
            // 如果没有搜索词，显示默认选项
            if (!searchTerm) {
                eventTypeSelect.options[0].style.display = '';
            }
            
            // 自动打开下拉菜单显示匹配选项
            if (searchTerm && hasVisibleOptions) {
                // 移除之前的模拟下拉框
                const existingDropdown = document.querySelector('.custom-dropdown');
                if (existingDropdown) {
                    existingDropdown.remove();
                }
                
                // 创建自定义下拉菜单
                createCustomDropdown();
            } else {
                // 移除自定义下拉菜单
                const existingDropdown = document.querySelector('.custom-dropdown');
                if (existingDropdown) {
                    existingDropdown.remove();
                }
            }
        }
        
        // 创建自定义下拉菜单
        function createCustomDropdown() {
            const eventTypeSelect = document.getElementById('eventType');
            const searchInput = document.getElementById('eventTypeSearch');
            const searchableSelect = document.querySelector('.searchable-select');
            
            // 获取搜索输入框的位置信息
            const rect = searchableSelect.getBoundingClientRect();
            
            // 创建自定义下拉菜单元素
            const dropdown = document.createElement('div');
            dropdown.className = 'custom-dropdown';
            dropdown.style.position = 'absolute';
            dropdown.style.top = `${rect.bottom + window.scrollY}px`;
            dropdown.style.left = `${rect.left + window.scrollX}px`;
            dropdown.style.width = `${rect.width}px`;
            dropdown.style.maxHeight = '300px';
            dropdown.style.overflowY = 'auto';
            dropdown.style.backgroundColor = 'white';
            dropdown.style.border = '2px solid #c5d9f0';
            dropdown.style.borderRadius = '8px';
            dropdown.style.boxShadow = '0 6px 16px rgba(0,0,0,0.15)';
            dropdown.style.zIndex = '1000';
            dropdown.style.padding = '8px 0';
            
            // 添加匹配的选项到自定义下拉菜单
            for (let i = 0; i < eventTypeSelect.options.length; i++) {
                const option = eventTypeSelect.options[i];
                if (option.style.display !== 'none' && option.value !== '') {
                    const optionItem = document.createElement('div');
                    optionItem.className = 'dropdown-option';
                    optionItem.textContent = option.textContent;
                    optionItem.dataset.value = option.value;
                    optionItem.style.padding = '12px 16px';
                    optionItem.style.cursor = 'pointer';
                    optionItem.style.whiteSpace = 'nowrap';
                    optionItem.style.overflow = 'hidden';
                    optionItem.style.textOverflow = 'ellipsis';
                    
                    // 添加悬停效果
                    optionItem.addEventListener('mouseenter', function() {
                        this.style.backgroundColor = '#f0f7ff';
                    });
                    
                    optionItem.addEventListener('mouseleave', function() {
                        this.style.backgroundColor = 'transparent';
                    });
                    
                    // 添加点击事件
                    optionItem.addEventListener('click', function() {
                        // 设置选中的值
                        eventTypeSelect.value = this.dataset.value;
                        showEventGuidance();
                        
                        // 更新搜索框显示选中的文本
                        searchInput.value = this.textContent;
                        
                        // 移除自定义下拉菜单
                        dropdown.remove();
                    });
                    
                    dropdown.appendChild(optionItem);
                }
            }
            
            // 添加到文档中
            document.body.appendChild(dropdown);
            
            // 点击其他地方关闭下拉菜单
            document.addEventListener('click', function closeDropdown(e) {
                if (!searchableSelect.contains(e.target) && e.target !== dropdown && !dropdown.contains(e.target)) {
                    dropdown.remove();
                    document.removeEventListener('click', closeDropdown);
                }
            });
        }
        
        // 显示事件类型的填写指南
        function showEventGuidance() {
            const eventTypeSelect = document.getElementById('eventType');
            const selectedId = eventTypeSelect.value;
            const guidanceBox = document.getElementById('eventGuidance');
            
            if (!selectedId) {
                guidanceBox.innerHTML = '<p style="text-align: center; color: #666;">请选择事件类型查看填写指南</p>';
                return;
            }
            
            const eventType = eventTypes.find(t => t.id === selectedId);
            
            if (!eventType) {
                guidanceBox.innerHTML = '<p style="text-align: center; color: #dc3545;">无法获取该事件类型的指南</p>';
                return;
            }
            
            let html = `
                <div class="points-title">
                    📋 ${eventType.name}填写要点:
                </div>
                <ul class="points-list">`;
            
            eventType.points.forEach(point => {
                html += `<li>${point}</li>`;
            });
            
            html += `</ul>`;
            
            if (eventType.explanation) {
                html += `
                    <div class="points-title">
                        🔍 释义和说明:
                    </div>
                    <div class="explanation">
                        ${eventType.explanation}
                    </div>`;
            }
            
            guidanceBox.innerHTML = html;
            
            // 滚动到指南区域
            guidanceBox.scrollIntoView({behavior: 'smooth', block: 'nearest'});
        }
        
        // 生成报告
        function generateReport() {
            // 获取所有表单值
            const urgency = document.getElementById('urgency').value || '未填写';
            const eventTime = document.getElementById('eventTime').value || '未填写';
            const flightNumber = document.getElementById('flightNumber').value || '未填写';
            const aircraftModel = document.getElementById('aircraftModel').value || '未填写';
            const aircraftReg = document.getElementById('aircraftReg').value || '未填写';
            const departure = document.getElementById('departure').value || '未填写';
            const arrival = document.getElementById('arrival').value || '未填写';
            const leftseat = document.getElementById('leftseat').value || '未填写';
            const rightseat = document.getElementById('rightseat').value || '未填写';
            const third = document.getElementById('third').value || '未填写';
            const fourth = document.getElementById('fourth').value || '未填写';
            const pic = document.getElementById('pic').value || '未填写';
            const eventType = document.getElementById('eventType');
            const eventTypeName = eventType.options[eventType.selectedIndex]?.text || '未选择';
            const eventDetails = document.getElementById('eventDetails').value || '未填写';
            const leader = document.getElementById('leader').value || '未填写';
            const sqms = document.getElementById('sqms').value || '未填写';
            
            // 构建报告内容
            const report = `
紧急程度: ${urgency}
事发时间: ${formatDateTime(eventTime)}
航班号: ${flightNumber}
机型: ${aircraftModel}
机号: ${aircraftReg}
起降地: ${departure} -> ${arrival}
左座PF/PM: ${leftseat}
右座PF/PM: ${rightseat}
第三成员: ${third || "无"}
第四成员: ${fourth || "无"}
责任机长: ${pic}
事件类型: ${eventTypeName}
事件描述:
${eventDetails}

是否汇报干部: ${leader}
是否填报SQMS: ${sqms}
`;
            
            document.getElementById('reportOutput').textContent = report;
            document.getElementById('form-container').classList.add('hidden');
            document.getElementById('report-container').classList.remove('hidden');
            window.scrollTo(0, 0);
        }
        
        // 转换日期时间格式
        function formatDateTime(dtStr) {
            if (!dtStr) return "未填写";
            const dt = new Date(dtStr);
            return `${dt.getFullYear()}-${(dt.getMonth()+1).toString().padStart(2, '0')}-${dt.getDate().toString().padStart(2, '0')} ${dt.getHours().toString().padStart(2, '0')}:${dt.getMinutes().toString().padStart(2, '0')}`;
        }
        
        // 复制到剪贴板
        function copyToClipboard() {
            const report = document.getElementById('reportOutput').textContent;
            
            navigator.clipboard.writeText(report).then(() => {
                showToast('报告已复制成功，请粘贴到微信');
            }).catch(err => {
                // 兼容方案
                const textArea = document.createElement('textarea');
                textArea.value = report;
                document.body.appendChild(textArea);
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    showToast('报告已复制，请粘贴');
                } catch (copyErr) {
                    showToast('复制失败，请手动选择文本');
                }
                
                document.body.removeChild(textArea);
            });
        }
        
        // 清空表单
        function clearForm() {
            document.getElementById('urgency').value = '非紧急';
            document.getElementById('flightNumber').value = '';
            document.getElementById('aircraftModel').value = '';
            document.getElementById('aircraftReg').value = '';
            document.getElementById('departure').value = '';
            document.getElementById('arrival').value = '';
            document.getElementById('leftseat').value = '';
            document.getElementById('rightseat').value = '';
            document.getElementById('third').value = '';
            document.getElementById('fourth').value = '';
            document.getElementById('pic').value = '';
            document.getElementById('eventDetails').value = '';
            document.getElementById('leader').value = '稍后汇报'; 
            document.getElementById('sqms').value = '稍后填报';
            
            setCurrentDateTime();
            
            const guidanceBox = document.getElementById('eventGuidance');
            guidanceBox.innerHTML = '<p style="text-align: center; color: #666;">请选择事件类型查看填写要点</p>';
            
            showToast('表单已清空');
        }
        
        // 返回表单
        function backToForm() {
            document.getElementById('report-container').classList.add('hidden');
            document.getElementById('form-container').classList.remove('hidden');
            window.scrollTo(0, 0);
        }
        
        // 显示提示消息
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.remove('hidden');
            
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 2800);
        }
    </script>
    <script>
        // 注册service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then((registration) => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch((error) => {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }
    </script>
</body>
</html>
